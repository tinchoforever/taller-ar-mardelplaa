<!doctype HTML>
<html>
<head>
<script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>
<!-- <script src="aframe-gif-shader.js"></script> -->

<!-- <script src="aframe-ar.min.js"> </script> -->
<style>
#arjsDebugUIContainer, .arjsDebugUIContainer, .a-enter-vr {
  display: none;
}
</style>
</head>
  <body style='margin : 0px; overflow: hidden;'>
    <a-scene>
  
    
    
    <!-- <a-marker  preset='custom' type='pattern' url='gardens.patt'> -->
        <a-entity id="trago1" position="0 0 0" rotation="-90 180 -180" 
          geometry="primitive: plane; height: 2; width: 1.3"
          material="side: double;src:url(tragos-1.jpg);opacity:1">                 
          <a-animation  being="start" end="end" dur="3000" attribute="material.opacity" from="0" to="1"></a-animation>
           <a-animation  being="end"  dur="3000" attribute="material.opacity" from="1" to="0"></a-animation>
            </a-entity>  
        <a-entity id="trago2" position="0 0 0" rotation="-90 180 -180" 
          geometry="primitive: plane; height: 2; width: 1.3"
          material="side: double;src:url(tragos-2.jpg);opacity:0">                 
          <a-animation  being="start" end="end" dur="3000" attribute="material.opacity" from="0" to="1"></a-animation>
          <a-animation  being="end"  dur="3000" attribute="material.opacity" from="1" to="0"></a-animation>

            </a-entity>
        <a-entity id="trago3" position="0 0 0" rotation="-90 180 -180" 
          geometry="primitive: plane; height: 2; width: 1.3"
          material="side: double;src:url(tragos-3.jpg);opacity:0">                 
          <a-animation  being="start" end="end" dur="3000" attribute="material.opacity" from="0" to="1"></a-animation>
          <a-animation  being="end"  dur="3000" attribute="material.opacity" from="1" to="0"></a-animation>

            </a-entity>
            <a-entity id="trago4" position="0 0 0" rotation="-90 180 -180" 
          geometry="primitive: plane; height: 2; width: 1.3"
          material="side: double;src:url(tragos-4.jpg);opacity:0">                 
          <a-animation  being="start" end="end" dur="3000" attribute="material.opacity" from="0" to="1"></a-animation>
          <a-animation  being="end"  dur="3000" attribute="material.opacity" from="1" to="0"></a-animation>

            </a-entity>
        <a-entity id="trago5" position="0 0 0" rotation="-90 180 -180" 
          geometry="primitive: plane; height: 2; width: 1.3"
          material="side: double;src:url(tragos-5.jpg);opacity:0">                 
              <a-animation being="start" end="end" dur="3000" attribute="material.opacity" from="0" to="1"></a-animation>
              <a-animation  being="end"  dur="3000" attribute="material.opacity" from="1" to="0"></a-animation>

            </a-entity>
    <!-- </a-marker> -->
    

    


  	<a-entity camera position="1 1 1"></a-entity>
    </a-scene>
    <script>
          var i = 1;
          var runAnimation = function(){
            var current = "#trago"+ i;
            
            var prevIndex = i-1;

            if (prevIndex == 0){
              prevIndex  = 5;
            }
            var prev = "#trago"  + prevIndex;
            //apago al otro
            document.querySelector(prev).emit('end');
            //prendo el mio
            document.querySelector(current).emit('start');
            i++;
            //vuelvo a empezar
            if (i > 5){
              i = 1;
            }
          }
          runAnimation();
          setInterval(runAnimation,3000);  
          
      

    </script>
  </body>
</html>